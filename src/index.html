<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Preconnect to critical origins for faster resource loading -->
    <link rel="preconnect" href="https://unpkg.com" />
    <link rel="preconnect" href="https://www.googletagmanager.com" />
    <link rel="preconnect" href="https://upload.wikimedia.org" />
    <link rel="preconnect" href="https://angular.io" />

    <!-- Google tag (gtag.js) - Delayed initialization for performance -->
    <script>
      // Delay GTM loading until the browser is idle
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-TV6CWWTH8B');

      // Load GTM script after page is interactive
      function loadGTM() {
        var script = document.createElement('script');
        script.src = 'https://www.googletagmanager.com/gtag/js?id=G-TV6CWWTH8B';
        script.async = true;
        document.head.appendChild(script);
      }

      // Use requestIdleCallback for better performance, fallback to setTimeout
      if ('requestIdleCallback' in window) {
        requestIdleCallback(loadGTM);
      } else {
        setTimeout(loadGTM, 2000);
      }
    </script>
    <meta charset="utf-8" />
    <title>Ranju Gamage</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Full-stack developer specializing in Angular, .NET, and modern web technologies. Explore my portfolio of projects and professional experience."
    />

    <!-- Open Graph / Facebook / LinkedIn -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ranjugamage.dev/" />
    <meta property="og:title" content="Ranju Gamage - Full Stack Developer" />
    <meta
      property="og:description"
      content="Full-stack developer specializing in Angular, .NET, and modern web technologies. Explore my portfolio of projects and professional experience."
    />
    <meta property="og:image" content="https://ranjugamage.dev/me.webp" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://ranjugamage.dev/" />
    <meta property="twitter:title" content="Ranju Gamage - Full Stack Developer" />
    <meta
      property="twitter:description"
      content="Full-stack developer specializing in Angular, .NET, and modern web technologies. Explore my portfolio of projects and professional experience."
    />
    <meta property="twitter:image" content="https://ranjugamage.dev/me.webp" />

    <!-- Favicons for Google Search and browsers -->
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="shortcut icon" type="image/png" href="https://ranjugamage.dev/favicon.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="https://ranjugamage.dev/favicon-192.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="https://ranjugamage.dev/apple-touch-icon.png"
    />
    <!-- Fallback for older browsers -->
    <link rel="icon" type="image/x-icon" href="/favicon.png" />
    <!-- AOS CSS - Preloaded for non-blocking render -->
    <link
      rel="preload"
      href="https://unpkg.com/aos@2.3.1/dist/aos.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript><link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" /></noscript>
  </head>
  <body>
    <app-root></app-root>
    <!-- AOS JS - Deferred for performance -->
    <script defer src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  </body>
</html>
